
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimal-ui">

		<title>Bookme Files</title>

		<style> 
			body {
				margin: 0; padding: 0; background: #2b211d;
				display: flex;
				flex-direction: column;
				justify-content: center;
				height: 100%;
				overflow: hidden;
			}
			#game{
				margin-left: auto;
				margin-right: auto;
			}
		</style>
	</head>
	<body>
		<div id="stuff">
			<div id="game"></div>
			<script>
				function consoleLog(message) {
					console.log(message);
				};
			</script>
			<script>
			(function () {
				function setGamesize() {
					var windowW = window.innerWidth;
					var windowH = window.innerHeight;
					var gameW = 674;
					var gameH = 512;

					var newW = windowW;
					var newH = gameH / gameW * windowW;
					if(newH > windowH) {
						newH = windowH;
						newW = gameW / gameH * windowH
					}

					const el = document.getElementById('game');
					el.style.height = newH + 'px';
					el.style.width = newW + 'px';
				}
				setGamesize();
				console.log("setGame");
				window.addEventListener("resize", setGamesize);
			})();
			</script>
			<script>
				window.RufflePlayer = window.RufflePlayer || {};
				window.RufflePlayer.config = {
					"autoplay": "auto",
					"backgroundColor": "#2b211d",
					"letterbox": "fullscreen",
					"contextMenu": false,
					"publicPath": "",
					// Options affecting the whole page
					"polyfills": true,

					// Options affecting files only
					"allowScriptAccess": true,
					"unmuteOverlay": "visible",
					"wmode": "window",
					"warnOnUnsupportedContent": true,
					"showSwfDownload": false,
					"upgradeToHttps": window.location.protocol === "https:",
					"maxExecutionDuration": 15,
					"logLevel": "debug",
					"base": null,
					"menu": true,
					"salign": "",
					"forceAlign": false,
					"scale": "showAll",
					"forceScale": false,
					"frameRate": 1,
					"quality": "high",
					"splashScreen": true,
					"preferredRenderer": null,
					"openUrlMode": "allow",
					"allowNetworking": "all",
					"favorFlash": true,
				};
				window.addEventListener("load", (event) => {
					const ruffle = window.RufflePlayer.newest();
					const player = ruffle.createPlayer();
					const container = document.getElementById("game");
					container.appendChild(player);
					player.load("./bookworm.swf");
					player.setAttribute("style","height:100%; width:100%");
				});
			</script>
			<script defer src="js/ruffle/ruffle.js"></script>
			<script>
			var spGameInfo = {
				name: 'Bookworm',
				slug: 'bookworm',
				url: '',
				img: ''
			};
			</script>
			<script src="js/hotlink.js"></script>
		</div>
	</body>
</html>
